{
  "_from": "node-qiwi-api",
  "_id": "node-qiwi-api@1.1.1",
  "_inBundle": false,
  "_integrity": "sha512-MlwiRRg4nHgMKRgLLB8nn1JY4dgqhiHIggWOyFoo9BBTuA7ekiNUI+RT1ve45dYpnGCDdrkcIbJg/nJVq5/VQw==",
  "_location": "/node-qiwi-api",
  "_phantomChildren": {},
  "_requested": {
    "escapedName": "node-qiwi-api",
    "fetchSpec": "latest",
    "name": "node-qiwi-api",
    "raw": "node-qiwi-api",
    "rawSpec": "",
    "registry": true,
    "saveSpec": null,
    "type": "tag"
  },
  "_requiredBy": [
    "#USER"
  ],
  "_resolved": "https://registry.npmjs.org/node-qiwi-api/-/node-qiwi-api-1.1.1.tgz",
  "_shasum": "7c199a733086ecc8bb926eddeb1689649bc7c4dc",
  "_spec": "node-qiwi-api",
  "_where": "C:\\Users\\111\\Desktop\\новый",
  "author": {
    "name": "Sergey Nazarov, insight.appdev@gmail.com"
  },
  "bugs": {
    "url": "https://github.com/InsightAppDev/node-qiwi-api/issues"
  },
  "bundleDependencies": false,
  "dependencies": {
    "request": "2.81.0"
  },
  "deprecated": false,
  "description": "node-qiwi-api\r ================\r Официальная [документация](https://developer.qiwi.com/qiwiwallet/qiwicom_ru.html) к Qiwi api.",
  "devDependencies": {},
  "homepage": "https://github.com/InsightAppDev/node-qiwi-api",
  "keywords": [
    "QIWI",
    "Wallet"
  ],
  "main": "node-qiwi-api.js",
  "name": "node-qiwi-api",
  "optionalDependencies": {},
  "readme": "node-qiwi-api\r\n================\r\nОфициальная [документация](https://developer.qiwi.com/qiwiwallet/qiwicom_ru.html) к Qiwi api.\r\n\r\nGet started\r\n----------------\r\nДля начала вам необходимо получить токен на сайте [Qiwi](https://qiwi.com/api).\r\n```\r\nnpm install node-qiwi-api\r\n```\r\nИнициализируйте новый кошелек с выданным токеном:\r\n```js\r\nvar Qiwi = require('node-qiwi-api').Qiwi;\r\nvar Wallet = new Qiwi(token);\r\n```\r\nТеперь вы можете получать информацию о кошельке и совершать переводы на другие кошельки, мобильный телефон и карты.\r\n\r\nИнформация об аккаунте\r\n----------------\r\n```js\r\nWallet.getAccountInfo((err, info) => {\r\n  if(err) {\r\n    /*hanle error*/\r\n  }\r\n  console.log(info);\r\n})\r\n```\r\n\r\nБаланс\r\n----------------\r\n```js\r\nWallet.getBalance((err, balance) => {\r\n  if(err) {\r\n    /*hanle error*/\r\n  }\r\n  console.log(balance);\r\n})\r\n```\r\nИстория операций\r\n----------------\r\n```js\r\nWallet.getOperationHistory(requestOptions, (err, operations) => {\r\n  if(err) {\r\n    /*hanle error*/\r\n  }\r\n  console.log(operations);\r\n})\r\n```\r\nrequestOptions включают в себя: \r\n* **rows** - Число платежей в ответе, для разбивки отчета на части. Целое число от 1 до 50. Обязательный параметр.\r\n* **operation** - Тип операций в отчете, для отбора. Допустимые значения: ALL - все операции, IN - только пополнения, OUT - только платежи, QIWI_CARD - только платежи по картам QIWI (QVC, QVP). По умолчанию ALL\r\n* **sources** - Источники платежа, для отбора. Каждый источник задается как отдельный параметр и нумеруется элементом массива, начиная с нуля (sources[0], sources[1] и т.д.). Допустимые значения: QW_RUB - рублевый счет кошелька, QW_USD - счет кошелька в долларах, QW_EUR - счет кошелька в евро, CARD - привязанные и непривязанные к кошельку банковские карты, MK - счет мобильного оператора. Если не указаны, учитываются все источники\r\n* **startDate** - Начальная дата поиска платежей (формат ГГГГ-ММ-ДДTчч:мм:ссZ). По умолчанию, равен вчерашней дате. Используется только вместе с endDate\r\n* **endDate** - Конечная дата поиска платежей (формат ГГГГ-ММ-ДДTчч:мм:ссZ). По умолчанию, равен текущей дате. Используется только вместе с startDate\r\n* **nextTxnDate** - Дата транзакции (формат ГГГГ-ММ-ДДTчч:мм:ссZ), для отсчета от предыдущего списка (см. параметр nextTxnDate в ответе). Используется только вместе с nextTxnId\r\n* **nextTxnId** - \tНомер предшествующей транзакции, для отсчета от предыдущего списка (см. параметр nextTxnId в ответе). Используется только вместе с nextTxnDate\r\nМаксимальный допустимый интервал между startDate и endDate - 90 календарных дней.\r\n\r\nНапример информация о 25 исходящих платежах может быть получена следующим образом:\r\n```js\r\nWallet.getOperationHistory({rows: 25, operation: \"OUT\"}, (err, operations) => {\r\n  /* some code */\r\n})\r\n```\r\nСтатистика по операциям\r\n----------------\r\nДля получения статистики по суммам платежей за заданный период используется подзапрос запроса истории.\r\n```js\r\nWallet.getOperationStats(requestOptions, (err, stats) => {\r\n  if(err) {\r\n    /*hanle error*/\r\n  }\r\n  console.log(stats);\r\n})\r\n```\r\nrequestOptions: **operation, sources, startDate, endDate** - Параметры аналогичны параметрам в **getOperationHistory**.\r\n\r\nПеревод на Qiwi кошелек\r\n----------------\r\n```js\r\nWallet.toWallet({ amount: '0.01', comment: 'test', account: '+79261234567' }, (err, data) => {\r\n  if(err) {\r\n    /* handle err*/\r\n    }\r\n  console.log(data);\r\n})\r\n```\r\n* **amount** - Сумма\r\n* **comment** - Комментарий к платежу.\r\n* **account** - Номер телефона получателя (с международным префиксом)\r\n\r\nПеревод на мобильный телефон\r\n----------------\r\nНичем не отличается от перевода на кошелек, за исключением того, что номер указывается без международного префикса:\r\n```js\r\nWallet.toMobilePhone({ amount: '0.01', comment: 'test', account: '9261234567' }, (err, data) => {\r\n  if(err) {\r\n    /* handle err*/\r\n    }\r\n  console.log(data);\r\n})\r\n```\r\n\r\nПеревод на карту\r\n----------------\r\nНичем не отличается от других переводов, за исключением того, что в account указывается номер кредитной карты:\r\n```js\r\nWallet.toCard({ amount: '0.01', comment: 'test', account: '5213********0000' }, (err, data) => {\r\n  if(err) {\r\n    /* handle err*/\r\n    }\r\n  console.log(data);\r\n})\r\n```\r\n\r\nПеревод на банковский счет\r\n----------------\r\n```js\r\nWallet.toBank({ amount: '0.01', account: '5213********0000', account_type: '1', exp_date: 'MMYY' }, recipient, (err, data) => {\r\n  if(err) {\r\n    /* handle err*/\r\n    }\r\n  console.log(data);\r\n})\r\n```\r\n* **ammount** - Сумма\r\n* **account** - Номер карты/счета получателя\r\n* **account_type** - Тип банковского идентификатора. Допустимые значения:\r\n  * для Тинькофф Банк - карта “1”, договор “3”\r\n  * для Альфа-Банка - карта “1”, счет “2”\r\n  * для Промсвязьбанка - карта “7”, счет “9”\r\n  * для банка Русский Стандарт - карта “1”, счет “2”, договор “3”\r\n* **exp_date** - Срок действия карты, в формате ММГГ (например, 0218). Только для перевода на карту.\r\n* **recipient** - Допустимые значения:\r\n  * 466 - Тинькофф Банк\r\n  * 464 - Альфа-Банк\r\n  * 821 - Промсвязьбанк\r\n  * 815 - Русский Стандарт\r\n\r\nУточнение комиссии по операции\r\n----------------\r\n```js\r\nWallet.checkComission(recipient, (err, data) => {\r\n  if(err) {\r\n    /* handle err*/\r\n    }\r\n  console.log(data);\r\n})\r\n```\r\ndata.content.terms.commission.ranges[i]:\r\n* **recipient** - Допустимые значения хранятся в this.recipients. Список на [официальном сайте](https://developer.qiwi.com/qiwiwallet/qiwicom_ru.html#commission).\r\nОтвет содержит:\r\n* **bound** - Сумма платежа, начиная с которой применяется условие\r\n* **rate** - Комиссия (абс.множитель)\r\n* **fixed** - Фиксированная сумма комиссии\r\n",
  "readmeFilename": "readme.md",
  "version": "1.1.1"
}
